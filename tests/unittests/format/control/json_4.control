Teradata Jaqy Console 1.0
-- 0/0 - 0 ----------------------------------------------------------------
--------------------------------------------------------------------------
-- test JSON binary outputs etc
--------------------------------------------------------------------------

.run ../common/sqlite_setup.sql
-- Running script: ../common/sqlite_setup.sql
-- 0/1 - 0 ----------------------------------------------------------------
.open sqlite::memory:
-- 0/2 - 0 ----------------------------------------------------------------

CREATE TABLE BinTable
(
        a       INTEGER,
        b       BLOB
);
-- success. update count = 0
-- 1/2 - 0 ----------------------------------------------------------------

INSERT INTO BinTable VALUES (1, X'DEADBEEF');
-- success. update count = 1
-- 2/2 - 0 ----------------------------------------------------------------
INSERT INTO BinTable VALUES (2, X'FACEDEAD');
-- success. update count = 1
-- 3/2 - 0 ----------------------------------------------------------------

.format json -p dummy
-- error: invalid pretty option value: dummy
-- 3/3 - 0 ----------------------------------------------------------------
.format json -b dummy
-- error: invalid binary option value: dummy
-- 3/4 - 0 ----------------------------------------------------------------
.format json -b base64 -p off
-- 3/5 - 0 ----------------------------------------------------------------
SELECT * FROM BinTable ORDER BY a;
-- success --
[{"a":1,"b":"3q2+7w=="},{"a":2,"b":"+s7erQ=="}]
-- activity count = 2
-- 4/5 - 0 ----------------------------------------------------------------

.format json -b hex
-- 4/6 - 0 ----------------------------------------------------------------
SELECT * FROM BinTable ORDER BY a;
-- success --
[
	{
		"a" : 1,
		"b" : "deadbeef"
	},
	{
		"a" : 2,
		"b" : "facedead"
	}
]
-- activity count = 2
-- 5/6 - 0 ----------------------------------------------------------------

.close
Session 0 is now closed.
-- 5/7 - 0 ----------------------------------------------------------------
