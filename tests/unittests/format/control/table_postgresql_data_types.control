Jaqy Console 1.1.0
-- 0/0 - 0 ----------------------------------------------------------------
--------------------------------------------------------------------------
-- test PostgreSQL various data types
--------------------------------------------------------------------------
.run ../common/postgresql_setup.sql
-- Running script: ../common/postgresql_setup.sql
-- 0/1 - 0 ----------------------------------------------------------------
.open -u postgres postgresql://localhost:5433/?stringtype=unspecified
-- 0/2 - 0 ----------------------------------------------------------------
.format table
-- 0/3 - 0 ----------------------------------------------------------------

CREATE TABLE NumTable
(
	c1 SMALLINT,
	c2 INTEGER,
	c3 BIGINT,
	c4 FLOAT,
	c5 DOUBLE PRECISION
);
-- success. update count = 0
-- 1/3 - 0 ----------------------------------------------------------------

INSERT INTO NumTable VALUES (-12345, -123456789, -1234567890, -1234.5, -4.5e15);
-- success. update count = 1
-- 2/3 - 0 ----------------------------------------------------------------
INSERT INTO NumTable VALUES (12345, 123456789, 1234567890, 1234.5, 4.5e15);
-- success. update count = 1
-- 3/3 - 0 ----------------------------------------------------------------

SELECT * FROM NumTable ORDER BY c1;
-- success --
    c1         c2          c3      c4                c5
------ ---------- ----------- ------- -----------------
-12345 -123456789 -1234567890 -1234.5 -4500000000000000
 12345  123456789  1234567890  1234.5  4500000000000000
-- activity count = 2
-- 4/3 - 0 ----------------------------------------------------------------

DROP TABLE NumTable;
-- success. update count = 0
-- 5/3 - 0 ----------------------------------------------------------------

CREATE TABLE DecTable
(
	c1 DECIMAL(3,2),
	c2 DECIMAL(9,2),
	c3 DECIMAL(22,2),
	c4 DECIMAL(31,2)
);
-- success. update count = 0
-- 6/3 - 0 ----------------------------------------------------------------
INSERT INTO DecTable VALUES (-1.23, -1234567.89, -12345678901234567890.12, -12345678901234567890123456789.01);
-- success. update count = 1
-- 7/3 - 0 ----------------------------------------------------------------
INSERT INTO DecTable VALUES (1.23, 1234567.89, 12345678901234567890.12, 12345678901234567890123456789.01);
-- success. update count = 1
-- 8/3 - 0 ----------------------------------------------------------------

SELECT * FROM DecTable ORDER BY c1;
-- success --
   c1          c2                       c3                                c4
----- ----------- ------------------------ ---------------------------------
-1.23 -1234567.89 -12345678901234567890.12 -12345678901234567890123456789.01
 1.23  1234567.89  12345678901234567890.12  12345678901234567890123456789.01
-- activity count = 2
-- 9/3 - 0 ----------------------------------------------------------------
DROP TABLE DecTable;
-- success. update count = 0
-- 10/3 - 0 ---------------------------------------------------------------

CREATE TABLE SerialTable
(
	c1 SMALLSERIAL,
	c2 SERIAL,
	c3 BIGSERIAL,
	c4 INTEGER
);
-- success. update count = 0
-- 11/3 - 0 ---------------------------------------------------------------

INSERT INTO SerialTable (C4) VALUES (1);
-- success. update count = 1
-- 12/3 - 0 ---------------------------------------------------------------
INSERT INTO SerialTable (C4) VALUES (2);
-- success. update count = 1
-- 13/3 - 0 ---------------------------------------------------------------

SELECT * FROM SerialTable ORDER BY c1;
-- success --
c1 c2 c3 c4
-- -- -- --
 1  1  1  1
 2  2  2  2
-- activity count = 2
-- 14/3 - 0 ---------------------------------------------------------------
DROP TABLE SerialTable;
-- success. update count = 0
-- 15/3 - 0 ---------------------------------------------------------------

CREATE TABLE StrTable
(
	c1 VARCHAR(255),
	c2 CHAR(1),
	c3 CHAR(5),
	c4 TEXT
);
-- success. update count = 0
-- 16/3 - 0 ---------------------------------------------------------------

INSERT INTO StrTable VALUES ('aa', 'A', 'abcde', 'aaaaa');
-- success. update count = 1
-- 17/3 - 0 ---------------------------------------------------------------
INSERT INTO StrTable VALUES ('bbb', 'B', 'fghij', 'bbbbb');
-- success. update count = 1
-- 18/3 - 0 ---------------------------------------------------------------

SELECT * FROM StrTable ORDER BY c1;
-- success --
c1  c2 c3    c4
--- -- ----- -----
aa  A  abcde aaaaa
bbb B  fghij bbbbb
-- activity count = 2
-- 19/3 - 0 ---------------------------------------------------------------
DROP TABLE StrTable;
-- success. update count = 0
-- 20/3 - 0 ---------------------------------------------------------------

CREATE TABLE BinTable
(
	c1 INTEGER,
	c2 BYTEA
);
-- success. update count = 0
-- 21/3 - 0 ---------------------------------------------------------------

INSERT INTO BinTable VALUES (1, E'\\xdeadbeef');
-- success. update count = 1
-- 22/3 - 0 ---------------------------------------------------------------
INSERT INTO BinTable VALUES (2, E'\\xfacefeed');
-- success. update count = 1
-- 23/3 - 0 ---------------------------------------------------------------

SELECT * FROM BinTable ORDER BY c1;
-- success --
c1 c2
-- --
 1 de
 2 fa
-- activity count = 2
-- 24/3 - 0 ---------------------------------------------------------------
DROP TABLE BinTable;
-- success. update count = 0
-- 25/3 - 0 ---------------------------------------------------------------

CREATE TABLE TimeTable
(
	c1 INTEGER,
	c2 DATE,
	c3 TIME,
	c4 TIME WITH TIME ZONE,
	c5 TIMESTAMP,
	c6 TIMESTAMP WITH TIME ZONE
);
-- success. update count = 0
-- 26/3 - 0 ---------------------------------------------------------------

INSERT INTO TimeTable VALUES (1, '2001-02-03', '12:34:56', '12:34:56-08:00', '2001-02-03 12:34:56', '2001-02-03 12:34:56-08:00');
-- success. update count = 1
-- 27/3 - 0 ---------------------------------------------------------------
INSERT INTO TimeTable VALUES (2, '2001-03-04', '12:34:56', '12:34:56+08:00', '2001-03-04 12:34:56', '2001-02-03 12:34:56+08:00');
-- success. update count = 1
-- 28/3 - 0 ---------------------------------------------------------------

SELECT * FROM TimeTable ORDER BY c1;
-- success --
c1 c2         c3       c4          c5                  c6
-- ---------- -------- ----------- ------------------- ----------------------
 1 2001-02-03 12:34:56 12:34:56-08 2001-02-03 12:34:56 2001-02-03 12:34:56-08
 2 2001-03-04 12:34:56 12:34:56+08 2001-03-04 12:34:56 2001-02-02 20:34:56-08
-- activity count = 2
-- 29/3 - 0 ---------------------------------------------------------------
DROP TABLE TimeTable;
-- success. update count = 0
-- 30/3 - 0 ---------------------------------------------------------------

CREATE TABLE XmlTable
(
	c1 INTEGER,
	c2 XML
);
-- success. update count = 0
-- 31/3 - 0 ---------------------------------------------------------------

INSERT INTO XmlTable VALUES (1, '<abc>1234</abc>');
-- success. update count = 1
-- 32/3 - 0 ---------------------------------------------------------------
INSERT INTO XmlTable VALUES (2, '<abc>2345</abc>');
-- success. update count = 1
-- 33/3 - 0 ---------------------------------------------------------------

SELECT * FROM XmlTable ORDER BY c1;
-- success --
c1 c2
-- ---------------
 1 <abc>1234</abc>
 2 <abc>2345</abc>
-- activity count = 2
-- 34/3 - 0 ---------------------------------------------------------------
DROP TABLE XmlTable;
-- success. update count = 0
-- 35/3 - 0 ---------------------------------------------------------------

CREATE TABLE JsonTable
(
	c1 INTEGER,
	c2 JSON
);
-- success. update count = 0
-- 36/3 - 0 ---------------------------------------------------------------

INSERT INTO JsonTable VALUES (1, '{"abc":"def"}');
-- success. update count = 1
-- 37/3 - 0 ---------------------------------------------------------------
INSERT INTO JsonTable VALUES (2, '[123, 456, true, null, "hello"]');
-- success. update count = 1
-- 38/3 - 0 ---------------------------------------------------------------

SELECT * FROM JsonTable ORDER BY c1;
-- success --
c1 c2
-- -------------------------------
 1 {"abc":"def"}
 2 [123, 456, true, null, "hello"]
-- activity count = 2
-- 39/3 - 0 ---------------------------------------------------------------
DROP TABLE JsonTable;
-- success. update count = 0
-- 40/3 - 0 ---------------------------------------------------------------

CREATE TABLE GeoTable
(
	c1 INTEGER,
	c2 POINT,
	c3 LSEG,
	c4 BOX,
	c5 PATH,
	c6 POLYGON,
	c7 CIRCLE
);
-- success. update count = 0
-- 41/3 - 0 ---------------------------------------------------------------

INSERT INTO GeoTable VALUES (1, '(1,2)', '((1,1),(2,2))', '((1,1),(2,2))', '((1,1),(2,2))', '((0,0),(0,1),(1,1),(1,0))','<(0,0),1>');
-- success. update count = 1
-- 42/3 - 0 ---------------------------------------------------------------
INSERT INTO GeoTable VALUES (2, '(2,2)', '((2,2),(3,3))', '((2,2),(3,3))', '((0,0),(0,1),(1,1),(1,0),(0,0))', '((0,0),(0,1),(1,1),(1,0),(0,0))','<(0,0),1>');
-- success. update count = 1
-- 43/3 - 0 ---------------------------------------------------------------

SELECT * FROM GeoTable ORDER BY c1;
-- success --
c1 c2        c3                    c4                  c5                                                  c6                                                  c7
-- --------- --------------------- ------------------- --------------------------------------------------- --------------------------------------------------- ---------------
 1 (1.0,2.0) [(1.0,1.0),(2.0,2.0)] (2.0,2.0),(1.0,1.0) ((1.0,1.0),(2.0,2.0))                               ((0.0,0.0),(0.0,1.0),(1.0,1.0),(1.0,0.0))           <(0.0,0.0),1.0>
 2 (2.0,2.0) [(2.0,2.0),(3.0,3.0)] (3.0,3.0),(2.0,2.0) ((0.0,0.0),(0.0,1.0),(1.0,1.0),(1.0,0.0),(0.0,0.0)) ((0.0,0.0),(0.0,1.0),(1.0,1.0),(1.0,0.0),(0.0,0.0)) <(0.0,0.0),1.0>
-- activity count = 2
-- 44/3 - 0 ---------------------------------------------------------------
DROP TABLE GeoTable;
-- success. update count = 0
-- 45/3 - 0 ---------------------------------------------------------------

CREATE TABLE NetTable
(
	c1 INTEGER,
	c2 CIDR,
	c3 INET,
	c4 MACADDR
);
-- success. update count = 0
-- 46/3 - 0 ---------------------------------------------------------------

INSERT INTO NetTable VALUES (1, '192.168.100.128/25', '127.0.0.1', '08:00:2b:01:02:03');
-- success. update count = 1
-- 47/3 - 0 ---------------------------------------------------------------
INSERT INTO NetTable VALUES (2, '192.168/24', '192.168.1.1', '08-00-2b-01-02-03');
-- success. update count = 1
-- 48/3 - 0 ---------------------------------------------------------------

SELECT * FROM NetTable ORDER BY c1;
-- success --
c1 c2                 c3          c4
-- ------------------ ----------- -----------------
 1 192.168.100.128/25 127.0.0.1   08:00:2b:01:02:03
 2 192.168.0.0/24     192.168.1.1 08:00:2b:01:02:03
-- activity count = 2
-- 49/3 - 0 ---------------------------------------------------------------
DROP TABLE NetTable;
-- success. update count = 0
-- 50/3 - 0 ---------------------------------------------------------------

CREATE TABLE RangeTable
(
	c1 INTEGER,
	c2 INT4RANGE,
	c3 INT8RANGE,
	c4 NUMRANGE,
	c5 TSRANGE,
	c6 TSTZRANGE,
	c7 DATERANGE
);
-- success. update count = 0
-- 51/3 - 0 ---------------------------------------------------------------

INSERT INTO RangeTable VALUES (1, '[1, 2]', '[12345,67890]', '[123.45,678.90]', '[2010-01-01 14:30, 2010-01-01 15:30]', '[2010-01-01 14:30-08:00, 2010-01-01 15:30-08:00]', '[2001-02-03,2002-03-04]');
-- success. update count = 1
-- 52/3 - 0 ---------------------------------------------------------------
INSERT INTO RangeTable VALUES (2, '[1, 2)', '[12345,67890)', '[123.45,678.90)', '[2010-01-01 14:30, 2010-01-01 15:30)', '[2010-01-01 14:30-08:00, 2010-01-01 15:30-08:00)', '[2001-02-03,2002-03-04)');
-- success. update count = 1
-- 53/3 - 0 ---------------------------------------------------------------

SELECT * FROM RangeTable ORDER BY c1;
-- success --
c1 c2    c3            c4              c5                                            c6                                                  c7
-- ----- ------------- --------------- --------------------------------------------- --------------------------------------------------- -----------------------
 1 [1,3) [12345,67891) [123.45,678.90] ["2010-01-01 14:30:00","2010-01-01 15:30:00"] ["2010-01-01 14:30:00-08","2010-01-01 15:30:00-08"] [2001-02-03,2002-03-05)
 2 [1,2) [12345,67890) [123.45,678.90) ["2010-01-01 14:30:00","2010-01-01 15:30:00") ["2010-01-01 14:30:00-08","2010-01-01 15:30:00-08") [2001-02-03,2002-03-04)
-- activity count = 2
-- 54/3 - 0 ---------------------------------------------------------------
DROP TABLE RangeTable;
-- success. update count = 0
-- 55/3 - 0 ---------------------------------------------------------------

CREATE TABLE MiscTable1
(
	c1 INTEGER,
	c2 BOOLEAN,
	c3 BIT VARYING(8),
	c4 UUID,
	c5 MONEY
);
-- success. update count = 0
-- 56/3 - 0 ---------------------------------------------------------------

INSERT INTO MiscTable1 VALUES (1, true, B'101', 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11', 12.34);
-- success. update count = 1
-- 57/3 - 0 ---------------------------------------------------------------
INSERT INTO MiscTable1 VALUES (2, false, B'1010', 'a0ee-bc99-9c0b-4ef8-bb6d-6bb9-bd38-0a11', 23.45);
-- success. update count = 1
-- 58/3 - 0 ---------------------------------------------------------------

SELECT * FROM MiscTable1 ORDER BY c1;
-- success --
c1 c2 c3   c4                                      c5
-- -- ---- ------------------------------------ -----
 1 t  101  a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11 12.34
 2 f  1010 a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11 23.45
-- activity count = 2
-- 59/3 - 0 ---------------------------------------------------------------
DROP TABLE MiscTable1;
-- success. update count = 0
-- 60/3 - 0 ---------------------------------------------------------------

CREATE TABLE MiscTable2
(
	c1 INTEGER,
	c2 TSVECTOR,
	c3 TSQUERY
);
-- success. update count = 0
-- 61/3 - 0 ---------------------------------------------------------------

INSERT INTO MiscTable2 VALUES (1, 'a fat cat sat on a mat and ate a fat rat', 'fat & rat');
-- success. update count = 1
-- 62/3 - 0 ---------------------------------------------------------------
INSERT INTO MiscTable2 VALUES (2, 'a fat cat sat on a mat and ate a fat rat', 'fat & rat');
-- success. update count = 1
-- 63/3 - 0 ---------------------------------------------------------------

SELECT * FROM MiscTable2 ORDER BY c1;
-- success --
c1 c2                                                 c3
-- -------------------------------------------------- -------------
 1 'a' 'and' 'ate' 'cat' 'fat' 'mat' 'on' 'rat' 'sat' 'fat' & 'rat'
 2 'a' 'and' 'ate' 'cat' 'fat' 'mat' 'on' 'rat' 'sat' 'fat' & 'rat'
-- activity count = 2
-- 64/3 - 0 ---------------------------------------------------------------
DROP TABLE MiscTable2;
-- success. update count = 0
-- 65/3 - 0 ---------------------------------------------------------------

.close
-- 65/4 - 0 ---------------------------------------------------------------
