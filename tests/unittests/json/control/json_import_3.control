Jaqy Console 1.1.0
-- 0/0 - 0 ----------------------------------------------------------------
--------------------------------------------------------------------------
-- .import json command test
--------------------------------------------------------------------------
.run ../common/derby_setup.sql
-- Running script: ../common/derby_setup.sql
-- 0/1 - 0 ----------------------------------------------------------------
.open derby:memory:jsonDB;create=true
-- 0/2 - 0 ----------------------------------------------------------------

CREATE TABLE MyTable(a INTEGER PRIMARY KEY, b INTEGER);
-- success. update count = 0
-- 1/2 - 0 ----------------------------------------------------------------

.import json lib/import1.json
-- 1/3 - 0 ----------------------------------------------------------------
INSERT INTO MyTable VALUES (?, ?);
-- error: json data has to be accessed via field.
-- 2/3 - 0 ----------------------------------------------------------------

.import json lib/bad1.json
-- 2/4 - 0 ----------------------------------------------------------------
INSERT INTO MyTable VALUES ({{a}}, {{b}});
-- error: Parsing error at line 3, column 2, offset 20: unexpected character '{'
-- 3/4 - 0 ----------------------------------------------------------------

DROP TABLE MyTable;
-- success. update count = 0
-- 4/4 - 0 ----------------------------------------------------------------
.close
-- 4/5 - 0 ----------------------------------------------------------------

