Jaqy Console 1.1.0
-- 0/0 - 0 ----------------------------------------------------------------
--------------------------------------------------------------------------
-- test PostgreSQL various array data types
--------------------------------------------------------------------------
.run ../common/postgresql_setup.sql
-- Running script: ../common/postgresql_setup.sql
-- 0/1 - 0 ----------------------------------------------------------------
.open -u postgres postgresql://localhost:5433/?stringtype=unspecified
-- 0/2 - 0 ----------------------------------------------------------------
SET TIME ZONE '-04:00';
-- success. update count = 0
-- 1/2 - 0 ----------------------------------------------------------------
.debug resultset on
-- 1/3 - 0 ----------------------------------------------------------------
.debug preparedstatement on
-- 1/4 - 0 ----------------------------------------------------------------

CREATE TABLE NumTable
(
	a  INTEGER,
	c1 SMALLINT[],
	c2 INTEGER[],
	c3 BIGINT[],
	c4 FLOAT[],
	c5 DOUBLE PRECISION[]
);
-- success. update count = 0
-- 2/4 - 0 ----------------------------------------------------------------

INSERT INTO NumTable VALUES (1, '{-12345}', '{-123456789}', '{-1234567890}', '{-1234.5}', '{-4.5e15}');
-- success. update count = 1
-- 3/4 - 0 ----------------------------------------------------------------
INSERT INTO NumTable VALUES (2, '{12345}', '{123456789}', '{1234567890}', '{1234.5}', '{4.5e15}');
-- success. update count = 1
-- 4/4 - 0 ----------------------------------------------------------------

.export avro t.avro
-- 4/5 - 0 ----------------------------------------------------------------
SELECT * FROM NumTable ORDER BY a;
ResultSet Column Count                       6
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _int2
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 6
    Precision                                    5
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        3
    Name                                         c2
    Label                                        c2
    Type                                         ARRAY
    SQL Type                                     _int4
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        4
    Name                                         c3
    Label                                        c3
    Type                                         ARRAY
    SQL Type                                     _int8
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 20
    Precision                                    19
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        5
    Name                                         c4
    Label                                        c4
    Type                                         ARRAY
    SQL Type                                     _float8
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 25
    Precision                                    17
    Scale                                        17
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        6
    Name                                         c5
    Label                                        c5
    Type                                         ARRAY
    SQL Type                                     _float8
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 25
    Precision                                    17
    Scale                                        17
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
-- success --
-- activity count = 2
-- 5/5 - 0 ----------------------------------------------------------------
DELETE FROM NumTable;
-- success. update count = 2
-- 6/5 - 0 ----------------------------------------------------------------
.import avro t.avro
-- 6/6 - 0 ----------------------------------------------------------------
INSERT INTO NumTable VALUES ({{a}}, {{c1}}, {{c2}}, {{c3}}, {{c4}}, {{c5}});
Parameter Count                              6
  Index                                        1
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        2
    Type                                         ARRAY
    SQL Type                                     _int2
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        3
    Type                                         ARRAY
    SQL Type                                     _int4
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        4
    Type                                         ARRAY
    SQL Type                                     _int8
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        5
    Type                                         ARRAY
    SQL Type                                     _float8
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        6
    Type                                         ARRAY
    SQL Type                                     _float8
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
-- 7/6 - 0 ----------------------------------------------------------------
SELECT * FROM NumTable ORDER BY a;
ResultSet Column Count                       6
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _int2
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 6
    Precision                                    5
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        3
    Name                                         c2
    Label                                        c2
    Type                                         ARRAY
    SQL Type                                     _int4
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        4
    Name                                         c3
    Label                                        c3
    Type                                         ARRAY
    SQL Type                                     _int8
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 20
    Precision                                    19
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        5
    Name                                         c4
    Label                                        c4
    Type                                         ARRAY
    SQL Type                                     _float8
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 25
    Precision                                    17
    Scale                                        17
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        6
    Name                                         c5
    Label                                        c5
    Type                                         ARRAY
    SQL Type                                     _float8
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   numtable
    Display Size                                 25
    Precision                                    17
    Scale                                        17
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
-- success --
a c1       c2           c3            c4        c5
- -------- ------------ ------------- --------- -------------------
1 {-12345} {-123456789} {-1234567890} {-1234.5} {-4500000000000000}
2 {12345}  {123456789}  {1234567890}  {1234.5}  {4500000000000000}
-- activity count = 2
-- 8/6 - 0 ----------------------------------------------------------------

DROP TABLE NumTable;
-- success. update count = 0
-- 9/6 - 0 ----------------------------------------------------------------

CREATE TABLE DecTable
(
	a  INTEGER,
	c1 DECIMAL(3,2)[],
	c2 DECIMAL(9,2)[],
	c3 DECIMAL(22,2)[],
	c4 DECIMAL(31,2)[]
);
-- success. update count = 0
-- 10/6 - 0 ---------------------------------------------------------------
INSERT INTO DecTable VALUES (1, '{-1.23}', '{-1234567.89}', '{-12345678901234567890.12}', '{-12345678901234567890123456789.01}');
-- success. update count = 1
-- 11/6 - 0 ---------------------------------------------------------------
INSERT INTO DecTable VALUES (2, '{1.23}', '{1234567.89}', '{12345678901234567890.12}', '{12345678901234567890123456789.01}');
-- success. update count = 1
-- 12/6 - 0 ---------------------------------------------------------------

.export avro t.avro
-- 12/7 - 0 ---------------------------------------------------------------
SELECT * FROM DecTable ORDER BY a;
ResultSet Column Count                       5
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 5
    Precision                                    3
    Scale                                        2
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        3
    Name                                         c2
    Label                                        c2
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 11
    Precision                                    9
    Scale                                        2
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        4
    Name                                         c3
    Label                                        c3
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 24
    Precision                                    22
    Scale                                        2
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        5
    Name                                         c4
    Label                                        c4
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 33
    Precision                                    31
    Scale                                        2
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
-- success --
-- activity count = 2
-- 13/7 - 0 ---------------------------------------------------------------
DELETE FROM DecTable;
-- success. update count = 2
-- 14/7 - 0 ---------------------------------------------------------------
.import avro t.avro
-- 14/8 - 0 ---------------------------------------------------------------
INSERT INTO DecTable VALUES ({{a}}, {{c1}}, {{c2}}, {{c3}}, {{c4}});
Parameter Count                              5
  Index                                        1
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        2
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        3
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        4
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        5
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
-- 15/8 - 0 ---------------------------------------------------------------
SELECT * FROM DecTable ORDER BY a;
ResultSet Column Count                       5
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 5
    Precision                                    3
    Scale                                        2
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        3
    Name                                         c2
    Label                                        c2
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 11
    Precision                                    9
    Scale                                        2
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        4
    Name                                         c3
    Label                                        c3
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 24
    Precision                                    22
    Scale                                        2
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        5
    Name                                         c4
    Label                                        c4
    Type                                         ARRAY
    SQL Type                                     _numeric
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   dectable
    Display Size                                 33
    Precision                                    31
    Scale                                        2
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
-- success --
a c1      c2            c3                         c4
- ------- ------------- -------------------------- -----------------------------------
1 {-1.23} {-1234567.89} {-12345678901234567890.12} {-12345678901234567890123456789.01}
2 {1.23}  {1234567.89}  {12345678901234567890.12}  {12345678901234567890123456789.01}
-- activity count = 2
-- 16/8 - 0 ---------------------------------------------------------------

DROP TABLE DecTable;
-- success. update count = 0
-- 17/8 - 0 ---------------------------------------------------------------

CREATE TABLE StrTable
(
	a  INTEGER,
	c1 VARCHAR(255)[],
	c2 CHAR(1)[],
	c3 CHAR(5)[],
	c4 TEXT[]
);
-- success. update count = 0
-- 18/8 - 0 ---------------------------------------------------------------

INSERT INTO StrTable VALUES (1, '{aa}', '{A}', '{abcde}', '{aaaaa}');
-- success. update count = 1
-- 19/8 - 0 ---------------------------------------------------------------
INSERT INTO StrTable VALUES (2, '{bbb}', '{B}', '{fghij}', '{bbbbb}');
-- success. update count = 1
-- 20/8 - 0 ---------------------------------------------------------------

.export avro t.avro
-- 20/9 - 0 ---------------------------------------------------------------
SELECT * FROM StrTable ORDER BY a;
ResultSet Column Count                       5
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _varchar
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 255
    Precision                                    255
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        3
    Name                                         c2
    Label                                        c2
    Type                                         ARRAY
    SQL Type                                     _bpchar
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 1
    Precision                                    1
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        4
    Name                                         c3
    Label                                        c3
    Type                                         ARRAY
    SQL Type                                     _bpchar
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 5
    Precision                                    5
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        5
    Name                                         c4
    Label                                        c4
    Type                                         ARRAY
    SQL Type                                     _text
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 2147483647
    Precision                                    2147483647
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
-- success --
-- activity count = 2
-- 21/9 - 0 ---------------------------------------------------------------
DELETE FROM StrTable;
-- success. update count = 2
-- 22/9 - 0 ---------------------------------------------------------------
.import avro t.avro
-- 22/10 - 0 --------------------------------------------------------------
INSERT INTO StrTable VALUES ({{a}}, {{c1}}, {{c2}}, {{c3}}, {{c4}});
Parameter Count                              5
  Index                                        1
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        2
    Type                                         ARRAY
    SQL Type                                     _varchar
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
  Index                                        3
    Type                                         ARRAY
    SQL Type                                     _bpchar
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
  Index                                        4
    Type                                         ARRAY
    SQL Type                                     _bpchar
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
  Index                                        5
    Type                                         ARRAY
    SQL Type                                     _text
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
-- 23/10 - 0 --------------------------------------------------------------
SELECT * FROM StrTable ORDER BY a;
ResultSet Column Count                       5
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _varchar
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 255
    Precision                                    255
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        3
    Name                                         c2
    Label                                        c2
    Type                                         ARRAY
    SQL Type                                     _bpchar
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 1
    Precision                                    1
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        4
    Name                                         c3
    Label                                        c3
    Type                                         ARRAY
    SQL Type                                     _bpchar
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 5
    Precision                                    5
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        5
    Name                                         c4
    Label                                        c4
    Type                                         ARRAY
    SQL Type                                     _text
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   strtable
    Display Size                                 2147483647
    Precision                                    2147483647
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
-- success --
a c1    c2 c3      c4
- ----- -- ------- -------
1 {aa}  {A {abcde} {aaaaa}
2 {bbb} {B {fghij} {bbbbb}
-- activity count = 2
-- 24/10 - 0 --------------------------------------------------------------

DROP TABLE StrTable;
-- success. update count = 0
-- 25/10 - 0 --------------------------------------------------------------

CREATE TABLE BinTable
(
	a  INTEGER,
	c1 BYTEA[]
);
-- success. update count = 0
-- 26/10 - 0 --------------------------------------------------------------

INSERT INTO BinTable VALUES (1, '{\\xdeadbeef}');
-- success. update count = 1
-- 27/10 - 0 --------------------------------------------------------------
INSERT INTO BinTable VALUES (2, '{\\xfacefeed}');
-- success. update count = 1
-- 28/10 - 0 --------------------------------------------------------------

SELECT * FROM BinTable ORDER BY a;
ResultSet Column Count                       2
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   bintable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _bytea
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   bintable
    Display Size                                 2147483647
    Precision                                    2147483647
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
-- success --
a c1
- ---------------
1 {"\\xdeadbeef"}
2 {"\\xfacefeed"}
-- activity count = 2
-- 29/10 - 0 --------------------------------------------------------------
.export avro t.avro
-- 29/11 - 0 --------------------------------------------------------------
SELECT * FROM BinTable ORDER BY a;
ResultSet Column Count                       2
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   bintable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _bytea
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   bintable
    Display Size                                 2147483647
    Precision                                    2147483647
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
-- success --
-- activity count = 2
-- 30/11 - 0 --------------------------------------------------------------
DELETE FROM BinTable;
-- success. update count = 2
-- 31/11 - 0 --------------------------------------------------------------
.import avro t.avro
-- 31/12 - 0 --------------------------------------------------------------
INSERT INTO BinTable VALUES ({{a}}, {{c1}});
Parameter Count                              2
  Index                                        1
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        2
    Type                                         ARRAY
    SQL Type                                     _bytea
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
-- 32/12 - 0 --------------------------------------------------------------
SELECT * FROM BinTable ORDER BY a;
ResultSet Column Count                       2
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   bintable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _bytea
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   bintable
    Display Size                                 2147483647
    Precision                                    2147483647
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               Y
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
-- success --
a c1
- ---------------------------------------------------
1 {{"\\x2d3334","\\x2d3833","\\x2d3636","\\x2d3137"}}
2 {{"\\x2d36","\\x2d3530","\\x2d32","\\x2d3139"}}
-- activity count = 2
-- 33/12 - 0 --------------------------------------------------------------

DROP TABLE BinTable;
-- success. update count = 0
-- 34/12 - 0 --------------------------------------------------------------

CREATE TABLE TimeTable
(
	a  INTEGER,
	c1 DATE[],
	c2 TIME[],
	c3 TIME WITH TIME ZONE[],
	c4 TIMESTAMP[],
	c5 TIMESTAMP WITH TIME ZONE[]
);
-- success. update count = 0
-- 35/12 - 0 --------------------------------------------------------------

INSERT INTO TimeTable VALUES (1, '{2001-02-03}', '{12:34:56}', '{12:34:56-08:00}', '{2001-02-03 12:34:56}', '{2001-02-03 12:34:56-08:00}');
-- success. update count = 1
-- 36/12 - 0 --------------------------------------------------------------
INSERT INTO TimeTable VALUES (2, '{2001-03-04}', '{12:34:56}', '{12:34:56+08:00}', '{2001-03-04 12:34:56}', '{2001-02-03 12:34:56+08:00}');
-- success. update count = 1
-- 37/12 - 0 --------------------------------------------------------------

.export avro t.avro
-- 37/13 - 0 --------------------------------------------------------------
SELECT * FROM TimeTable ORDER BY a;
ResultSet Column Count                       6
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _date
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 13
    Precision                                    13
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        3
    Name                                         c2
    Label                                        c2
    Type                                         ARRAY
    SQL Type                                     _time
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 15
    Precision                                    15
    Scale                                        6
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        4
    Name                                         c3
    Label                                        c3
    Type                                         ARRAY
    SQL Type                                     _timetz
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 21
    Precision                                    21
    Scale                                        6
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        5
    Name                                         c4
    Label                                        c4
    Type                                         ARRAY
    SQL Type                                     _timestamp
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 29
    Precision                                    29
    Scale                                        6
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        6
    Name                                         c5
    Label                                        c5
    Type                                         ARRAY
    SQL Type                                     _timestamptz
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 35
    Precision                                    35
    Scale                                        6
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
-- success --
-- activity count = 2
-- 38/13 - 0 --------------------------------------------------------------
DELETE FROM TimeTable;
-- success. update count = 2
-- 39/13 - 0 --------------------------------------------------------------
.import avro t.avro
-- 39/14 - 0 --------------------------------------------------------------
INSERT INTO TimeTable VALUES ({{a}}, {{c1}}, {{c2}}, {{c3}}, {{c4}}, {{c5}});
Parameter Count                              6
  Index                                        1
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       Y
    Mode                                         IN
  Index                                        2
    Type                                         ARRAY
    SQL Type                                     _date
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
  Index                                        3
    Type                                         ARRAY
    SQL Type                                     _time
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
  Index                                        4
    Type                                         ARRAY
    SQL Type                                     _timetz
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
  Index                                        5
    Type                                         ARRAY
    SQL Type                                     _timestamp
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
  Index                                        6
    Type                                         ARRAY
    SQL Type                                     _timestamptz
    Java Class                                   java.sql.Array
    Precision                                    0
    Scale                                        0
    Nullable                                     2
    Signed                                       N
    Mode                                         IN
-- 40/14 - 0 --------------------------------------------------------------
SELECT * FROM TimeTable ORDER BY a;
ResultSet Column Count                       6
  Index                                        1
    Name                                         a
    Label                                        a
    Type                                         INTEGER
    SQL Type                                     int4
    Java Class                                   java.lang.Integer
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 11
    Precision                                    10
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       Y
    Writable                                     Y
  Index                                        2
    Name                                         c1
    Label                                        c1
    Type                                         ARRAY
    SQL Type                                     _date
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 13
    Precision                                    13
    Scale                                        0
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        3
    Name                                         c2
    Label                                        c2
    Type                                         ARRAY
    SQL Type                                     _time
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 15
    Precision                                    15
    Scale                                        6
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        4
    Name                                         c3
    Label                                        c3
    Type                                         ARRAY
    SQL Type                                     _timetz
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 21
    Precision                                    21
    Scale                                        6
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        5
    Name                                         c4
    Label                                        c4
    Type                                         ARRAY
    SQL Type                                     _timestamp
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 29
    Precision                                    29
    Scale                                        6
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
  Index                                        6
    Name                                         c5
    Label                                        c5
    Type                                         ARRAY
    SQL Type                                     _timestamptz
    Java Class                                   java.sql.Array
    Catalog                                      
    Schema                                       
    Table Name                                   timetable
    Display Size                                 35
    Precision                                    35
    Scale                                        6
    Auto Increment                               N
    Case Sensitive                               N
    Currency                                     N
    Definitely Writable                          N
    Nullable                                     1
    Read Only                                    N
    Searchable                                   Y
    Signed                                       N
    Writable                                     Y
-- success --
a c1           c2         c3            c4                      c5
- ------------ ---------- ------------- ----------------------- --------------------------
1 {2001-02-03} {12:34:56} {12:34:56+04} {"2001-02-03 12:34:56"} {"2001-02-03 12:34:56+04"}
2 {2001-03-04} {12:34:56} {20:34:56+04} {"2001-03-04 12:34:56"} {"2001-02-02 20:34:56+04"}
-- activity count = 2
-- 41/14 - 0 --------------------------------------------------------------

.os rm -f t.avro
-- 41/15 - 0 --------------------------------------------------------------
DROP TABLE TimeTable;
-- success. update count = 0
-- 42/15 - 0 --------------------------------------------------------------
.close
-- 42/16 - 0 --------------------------------------------------------------
