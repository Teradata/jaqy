Jaqy Console 1.2.0
-- 0/0 - 0 ----------------------------------------------------------------
--------------------------------------------------------------------------
-- test pipe
--------------------------------------------------------------------------
.run ../common/mysql_setup.sql
-- Running script: ../common/mysql_setup.sql
-- 0/1 - 0 ----------------------------------------------------------------
.open -u root mysql://localhost/?useUnicode=true&characterEncoding=utf-8&useSSL=false
-- 0/2 - 0 ----------------------------------------------------------------
USE vagrant;
-- success. update count = 0
-- 1/2 - 0 ----------------------------------------------------------------

CREATE TABLE NumTable
(
	a  INTEGER,
	c1 TINYINT,
	c2 BOOLEAN,
	c3 SMALLINT,
	c4 MEDIUMINT,
	c5 INTEGER,
	c6 BIGINT,
	c7 FLOAT,
	c8 DOUBLE
);
-- success. update count = 0
-- 2/2 - 0 ----------------------------------------------------------------

INSERT INTO NumTable VALUES (1, -127, true, -12345, -123456, -123456789, -1234567890, -1234.5, -4.5e15);
-- success. update count = 1
-- 3/2 - 0 ----------------------------------------------------------------
INSERT INTO NumTable VALUES (2, 127, false, 12345, 1234567, 123456789, 1234567890, 1234.5, 4.5e15);
-- success. update count = 1
-- 4/2 - 0 ----------------------------------------------------------------
INSERT INTO NumTable VALUES (3, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
-- success. update count = 1
-- 5/2 - 0 ----------------------------------------------------------------

.session new
-- 5/3 - 1 ----------------------------------------------------------------
.run ../common/postgresql_setup.sql
-- Running script: ../common/postgresql_setup.sql
-- 5/4 - 1 ----------------------------------------------------------------
.open -u postgres postgresql://localhost/?stringtype=unspecified
-- 5/5 - 1 ----------------------------------------------------------------

CREATE TABLE NumTable
(
	a  INTEGER,
	c1 INTEGER,
	c2 BOOLEAN,
	c3 SMALLINT,
	c4 INTEGER,
	c5 INTEGER,
	c6 BIGINT,
	c7 FLOAT,
	c8 DOUBLE PRECISION
);
-- success. update count = 0
-- 6/5 - 1 ----------------------------------------------------------------

.session 0
-- 6/6 - 0 ----------------------------------------------------------------
.export pipe
-- 6/7 - 0 ----------------------------------------------------------------
SELECT * FROM NumTable ORDER BY a;
-- success --
-- 7/7 - 0 ----------------------------------------------------------------
.session 1
-- 7/8 - 1 ----------------------------------------------------------------
.import pipe
-- 7/9 - 1 ----------------------------------------------------------------
INSERT INTO NumTable VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?);
-- 8/9 - 1 ----------------------------------------------------------------

SELECT * FROM NumTable ORDER BY a;
-- success --
a   c1 c2     c3      c4         c5          c6      c7                c8
- ---- -- ------ ------- ---------- ----------- ------- -----------------
1 -127 t  -12345 -123456 -123456789 -1234567890 -1234.5 -4500000000000000
2  127 f   12345 1234567  123456789  1234567890  1234.5  4500000000000000
3    ? ?       ?       ?          ?           ?       ?                 ?
-- activity count = 3
-- 9/9 - 1 ----------------------------------------------------------------

.session 0
-- 9/10 - 0 ---------------------------------------------------------------
DROP TABLE NumTable;
-- success. update count = 0
-- 10/10 - 0 --------------------------------------------------------------
.close
-- 10/11 - 0 --------------------------------------------------------------
.session 1
-- 10/12 - 1 --------------------------------------------------------------
DROP TABLE NumTable;
-- success. update count = 0
-- 11/12 - 1 --------------------------------------------------------------
.close
-- 11/13 - 1 --------------------------------------------------------------
