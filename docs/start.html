

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Getting Started &mdash; Jaqy 1.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'1.2.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Aliases and Expression Expansion" href="aliasexp.html" />
    <link rel="prev" title="JDBC Drivers" href="jdbcdriver.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Jaqy
          

          
          </a>

          
            
            
              <div class="version">
                1.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Main</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">Copyright / License</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Teradata/jaqy">Github Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="jdbcdriver.html">JDBC Drivers</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#launching-jaqy">Launching Jaqy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#opening-a-connection">Opening a Connection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exeuting-a-sql-query">Exeuting a SQL Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="#closing-a-connection">Closing a Connection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exiting-jaqy">Exiting Jaqy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-a-jaqy-script">Running a Jaqy Script</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="aliasexp.html">Aliases and Expression Expansion</a></li>
<li class="toctree-l1"><a class="reference internal" href="load.html">Load and Exporting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="clientrs.html">Client Side ResultSet Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building Jaqy</a></li>
<li class="toctree-l1"><a class="reference internal" href="command.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="comment.html">Comments</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="format.html">Display Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="exitcode.html">Exit Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="export.html">Export Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="import.html">Import Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="largedataset.html">Large Data Set Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="path.html">Path Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin.html">Plugin Loading</a></li>
<li class="toctree-l1"><a class="reference internal" href="script.html">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="setting.html">Settings</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="jdbclimitations.html">JDBC Limitations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Jaqy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Getting Started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>Jaqy is a Java based console application.  It runs a simple script
language that mixes SQL with commands.</p>
<p>A command is simply a name token with a dot prefix.  For instance, <code class="docutils literal"><span class="pre">.open</span></code>,
<code class="docutils literal"><span class="pre">.close</span></code>, etc.</p>
<p>Jaqy also supports SQL line comments which starts with <code class="docutils literal"><span class="pre">--</span></code>.  It should be
noted that Jaqy does not recognize comments <code class="docutils literal"><span class="pre">/*</span> <span class="pre">*/</span></code>.  Comments recognized
by Jaqy is not sent to the database, but sometimes such behavior may not be
wanted since it may be used to contain some metadata for logging purposes.
Thus, <code class="docutils literal"><span class="pre">/*</span> <span class="pre">*/</span></code> is not recognized by Jaqy.</p>
<div class="section" id="launching-jaqy">
<h2>Launching Jaqy<a class="headerlink" href="#launching-jaqy" title="Permalink to this headline">¶</a></h2>
<p>Once <a class="reference external" href="download.html">downloaded</a> <code class="docutils literal"><span class="pre">jaqy-1.2.0.jar</span></code>, it can be run using
the following command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>java -jar jaqy-1.2.0.jar
</pre></div>
</div>
<p>If you need to load / export large amount of data though, it can be necessary
to allocate a bit more memory.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>java -Xmx256m -jar jaqy-1.2.0.jar
</pre></div>
</div>
<p>If you are going to have Unicode outputs, it may be necessary to specify the
encoding for the standard output.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>java -Dfile.encoding<span class="o">=</span>UTF-8 -Xmx256m -jar jaqy-1.2.0.jar
</pre></div>
</div>
<p>It is recommended to have the above script in an alias</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">alias</span> <span class="nv">jq</span><span class="o">=</span><span class="s1">&#39;java -Dfile.encoding=UTF-8 -Xmx256m -jar jaqy-1.2.0.jar&#39;</span>
</pre></div>
</div>
<p>or a batch file.</p>
</div>
<div class="section" id="opening-a-connection">
<h2>Opening a Connection<a class="headerlink" href="#opening-a-connection" title="Permalink to this headline">¶</a></h2>
<p>To connect a database, you will need to the <a class="reference external" href="jdbcdriver.html">JDBC driver</a> for
your database.  Here I use Teradata JDBC driver as an example.</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="p">.</span><span class="n">protocol</span> <span class="n">teradata</span> <span class="n">com</span><span class="p">.</span><span class="n">teradata</span><span class="p">.</span><span class="n">jdbc</span><span class="p">.</span><span class="n">TeraDriver</span>
<span class="p">.</span><span class="n">classpath</span> <span class="n">teradata</span> <span class="n">lib</span><span class="o">/</span><span class="n">terajdbc4</span><span class="p">.</span><span class="n">jar</span>
<span class="p">.</span><span class="k">open</span> <span class="o">-</span><span class="n">u</span> <span class="n">dbc</span> <span class="o">-</span><span class="n">p</span> <span class="n">dbc</span> <span class="n">teradata</span><span class="p">:</span><span class="o">//</span><span class="mi">127</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span>
</pre></div>
</div>
<p>The first command <a class="reference external" href="command/protocol.html">.protocol</a> specifies the driver
information for <code class="docutils literal"><span class="pre">teradata</span></code> protocol.  The second command
<a class="reference external" href="command/classpath.html">.classpath</a> specifies the class path to dynamically
load the driver.  The last command <a class="reference external" href="command/open.html">.open</a> actually opens
a JDBC connection to <code class="docutils literal"><span class="pre">127.0.0.1</span></code> with user <code class="docutils literal"><span class="pre">dbc</span></code> and password <code class="docutils literal"><span class="pre">dbc</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">.protocol</span></code> command is actually not necessary here since Jaqy actual knows
the driver name of several databases.  You can look at the existing list of
driver names by simply run <code class="docutils literal"><span class="pre">.protocol</span></code> command by itself.</p>
<p>The <code class="docutils literal"><span class="pre">.classpath</span></code> command if used frequently, can be put in <code class="docutils literal"><span class="pre">.jqrc</span></code> in your
home directory, so that one does not need to type it.  The driver is not
loaded until the corresponding JDBC protocol is used.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In Jaqy, all relative paths are relative to the current script file (which
can be nested), or in case of interactive mode, the current working directory.</p>
</div>
<p>The <code class="docutils literal"><span class="pre">.open</span></code> command is used to initiate a database connection via JDBC
driver.  <code class="docutils literal"><span class="pre">-u</span></code> option is used to specify the user name <code class="docutils literal"><span class="pre">dbc</span></code> and <code class="docutils literal"><span class="pre">-p</span></code>
option is used to specify the password <code class="docutils literal"><span class="pre">dbc</span></code>.  The connection URL
<code class="docutils literal"><span class="pre">teradata://127.0.0.1</span></code> is basically a JDBC connection URL without <code class="docutils literal"><span class="pre">jdbc:</span></code>
prefix.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Use <code class="docutils literal"><span class="pre">.&#64;open</span></code> instead of <code class="docutils literal"><span class="pre">.open</span></code> in scripts to hide the command which contains the password.</p>
</div>
</div>
<div class="section" id="exeuting-a-sql-query">
<h2>Exeuting a SQL Query<a class="headerlink" href="#exeuting-a-sql-query" title="Permalink to this headline">¶</a></h2>
<p>Jaqy recognizes any text that are not started with <code class="docutils literal"><span class="pre">.</span></code> as SQL.  The SQL
block is ended with a semicolon <code class="docutils literal"><span class="pre">;</span></code> as the last character on a line.</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">MyTable</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span><span class="p">;</span>
</pre></div>
</div>
<p>It is possible to enter chain multiple queries in a single statement or enter
a slightly complex statement by avoiding having the first <code class="docutils literal"><span class="pre">;</span></code> as the last
character on a line.  Here are two examples.</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="n">MACRO</span> <span class="n">myquery</span> <span class="k">AS</span>
<span class="p">(</span>
        <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">MyTable</span>
        <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span>
<span class="p">;);</span>
</pre></div>
</div>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">MyTable</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span>
<span class="p">;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">MyTable</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span><span class="p">;</span>
</pre></div>
</div>
<p>To enter even more complex SQL as a single statement, as in the case of
a stored procedure, one can use <code class="docutils literal"><span class="pre">.exec</span></code> to do so.</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="p">.</span><span class="k">exec</span>
<span class="k">CREATE</span> <span class="n">MACRO</span> <span class="n">myquery</span> <span class="k">AS</span>
<span class="p">(</span>
        <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">MyTable</span>
        <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span>
<span class="p">;);</span>
<span class="p">.</span><span class="k">end</span> <span class="k">exec</span>
</pre></div>
</div>
<p>Or simply use <code class="docutils literal"><span class="pre">.exec</span></code> to execute an external SQL file.</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="p">.</span><span class="k">exec</span> <span class="n">mysp</span><span class="p">.</span><span class="k">sql</span>
</pre></div>
</div>
</div>
<div class="section" id="closing-a-connection">
<h2>Closing a Connection<a class="headerlink" href="#closing-a-connection" title="Permalink to this headline">¶</a></h2>
<p>The command is simply</p>
<p><code class="docutils literal"><span class="pre">.close</span></code></p>
</div>
<div class="section" id="exiting-jaqy">
<h2>Exiting Jaqy<a class="headerlink" href="#exiting-jaqy" title="Permalink to this headline">¶</a></h2>
<p>You can either run <code class="docutils literal"><span class="pre">.quit</span></code> or <code class="docutils literal"><span class="pre">.exit</span></code> command to exit Jaqy.</p>
</div>
<div class="section" id="running-a-jaqy-script">
<h2>Running a Jaqy Script<a class="headerlink" href="#running-a-jaqy-script" title="Permalink to this headline">¶</a></h2>
<p>You can enter commands or SQL interactively, or use put everything in a script
and pipe in the input.</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="p">.</span><span class="k">open</span> <span class="o">-</span><span class="n">u</span> <span class="n">dbc</span> <span class="o">-</span><span class="n">p</span> <span class="n">dbc</span> <span class="n">teradata</span><span class="p">:</span><span class="o">//</span><span class="mi">127</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span>

<span class="cm">/* switch to test database */</span>
<span class="k">DATABASE</span> <span class="n">test</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">MyTable</span>
<span class="p">(</span>
        <span class="n">a</span> <span class="nb">INTEGER</span><span class="p">,</span>
        <span class="n">b</span> <span class="nb">INTEGER</span>
<span class="p">);</span>

<span class="c1">-- Populate with data</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MyTable</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MyTable</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="c1">-- Testing macro creation with ; handling</span>
<span class="k">CREATE</span> <span class="n">MACRO</span> <span class="n">myquery</span> <span class="k">AS</span>
<span class="p">(</span>
        <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">MyTable</span>
        <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span>
<span class="p">;);</span>

<span class="k">EXEC</span> <span class="n">myquery</span><span class="p">;</span>

<span class="c1">-- Cleaning up</span>
<span class="k">DROP</span> <span class="n">MACRO</span> <span class="n">myquery</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">MyTable</span><span class="p">;</span>

<span class="p">.</span><span class="n">quit</span>
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>jq &lt; input.sql
</pre></div>
</div>
<p>The output of a script is generally to the standard output.  However, some
JDBC drivers may print debugging or error information to the standard error.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="aliasexp.html" class="btn btn-neutral float-right" title="Aliases and Expression Expansion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="jdbcdriver.html" class="btn btn-neutral float-left" title="JDBC Drivers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017-2018, Teradata Corporation.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>